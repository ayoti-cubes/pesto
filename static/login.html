<!DOCTYPE html>
<html lang="fr" class="bg-black text-white">
<head>
  <meta charset="UTF-8">
  <title>Connexion - AYOTI</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <script>
    tailwind.config = {
      theme: {
        fontFamily: {
          sans: [
            "Inter var, sans-serif",
            { fontFeatureSettings: '"cv11", "ss01"' },
          ],
        },
      },
    }
  </script>
</head>
<body class="flex flex-col items-center justify-center gap-4 md:gap-6 bg-gradient-to-br from-blue-900 to-blue-900/25 min-h-screen py-4 px-6 md:py-8 md:px-12">
  <div class="flex flex-col items-center gap-4 px-6 py-4">
    <h3 class="text-2xl font-semibold">Connexion à AYOTI</h3>

    <form x-data="{password: '' }", action="/api/login" method="post" id="loginForm" class="flex flex-col gap-4 w-full">
      <span id="errorPassword" class="text-red-500 text-sm font-semibold hidden">Identifiants inconnus ou incorrects</span>

      <input
        type="text"
        id="loginId"
        name="loginId"
        required
        class="w-80 bg-white/20 px-2 py-1 rounded-lg border-2 border-white/50 focus:ring-4 focus:ring-blue-800 transition outline-none"
        placeholder="Identifiant"
      >

      <input
        type="password"
        id="password"
        name="password"
        required
        class="w-80 bg-white/20 px-2 py-1 rounded-lg border-2 border-white/50 focus:ring-4 focus:ring-blue-800 transition outline-none"
        placeholder="Mot de passe"
      >

      <div class="flex flex-row justify-between items-center w-full">
        <a href="register.html" class="text-blue-200 border-b border-blue-200">Créer un compte</a>

        <button 
          id="loginBtn"
          class="text-white px-4 py-2 rounded-lg bg-blue-700 transition hover:bg-blue-800 focus:ring-4 focus:ring-blue-600 outline-none flex flex-row items-center">
          <svg id="loginBtnLoadingIcon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw animate-spin mr-3 flex-shrink-0 hidden"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>
          Connexion
        </button>
      </div>
    </form>
  </div>

<script>
  let errorKey = new URLSearchParams(location.search).get('error')
  if (errorKey !== null) {
    document.getElementById('errorPassword').classList.remove('hidden')
  }
</script>
</body>
</html>